function cfmonitorProcess(e){var t={clientIP:clientIP,visitcount:updatedVisitCount};if(t.clientIP){updatedVisitCount=++t.visitcount}else{updatedVisitCount=updatedVisitCount?updatedVisitCount+1:1}if(updatedVisitCount>=maxclickcount){jq=jQuery.noConflict();if(disablead==="true"){jQuery("."+customclass).remove()}else{jQuery("."+customclass).remove()}}}function ajax_post(){var e={count:updatedVisitCount,clickurl:currentURL};jq.ajax({type:"post",dataType:"json",url:preurl,data:e,success:function(e){cfmonitorProcess();if(e.success){return e.success}else{return 0}}})}function checkit(){if(updatedVisitCount===0&&firstclick==="true"){jQuery("."+customclass).remove();if(event.preventDefault){event.preventDefault()}else{event.returnValue=false}}if(updatedVisitCount>=maxclickcount){jq=jQuery.noConflict();if(disablead==="true"){jQuery("."+customclass).remove();if(event.preventDefault){event.preventDefault()}else{event.returnValue=false}}else{jQuery("."+customclass).remove();if(event.preventDefault){event.preventDefault()}else{event.returnValue=false}}}}function countajaxclicks(){jq.ajax({type:"POST",dataType:"json",cache:false,url:counturl,success:function(e){updatedVisitCount=e.clicks;checkit();return e.clicks}})}function saveIframes(e){e=jq(e).get();if(e.length>1){jq.each(e,function(e,t){jq.cfmonitor.iframes.push(t)})}else jq.cfmonitor.iframes.push(e)}function findIframes(){jq.each(jq.cfmonitor.elements,function(e,t){if(jq(t).find("iframe").length>0){var n=jq(t).find("iframe");n=n.get();saveIframes(n)}});iframeAction(jq.cfmonitor.iframes)}function iframeAction(){jq.each(jq.cfmonitor.iframes,function(e,t){frameID=jq(t).attr("id")||false;if(frameID)initiateIframe(frameID)})}function initiateIframe(e){var t=document.getElementById(e);if(t){t.onmouseover=processMouseOver;t.onmouseout=processMouseOut}if(typeof window.attachEvent!=="undefined"){top.attachEvent("onblur",processIFrameClick)}else if(typeof window.addEventListener!=="undefined"){top.addEventListener("blur",processIFrameClick,false)}}function processMouseOut(){isOverIFrame=false;top.focus()}function processMouseOver(){isOverIFrame=true}function processIFrameClick(){if(isOverIFrame){ajax_post();top.focus()}}function saveElements(e){e=jq(e).get();if(e.length>1){jq.each(e,function(e,t){jq.cfmonitor.elements.push(t)})}else jq.cfmonitor.elements.push(e)}function updateElements(){jq.cfmonitor.elements=[];if(cfmonitor_options.defaultElements.length>1)saveElements(cfmonitor_options.defaultElements)}var clientIP=clientcfmonitor.client_ip;var maxclickcount=clientcfmonitor.clickcount;var bannedperiod=clientcfmonitor.bannedperiod;var nonceUpdate=AjaxUpdateClicks.nonce;var nonceCount=AjaxCheckClicks.nonce;var preurl=AjaxUpdateClicks.ajaxurl+"?action=ajax-updateclicks&nonce="+nonceUpdate;var counturl=AjaxCheckClicks.ajaxurl+"?action=ajax-checkclicks&nonce="+nonceCount;var firstclickdata=clientcfmonitor.firstclickdate;var firstclickdate=firstclickdata[0][1]-1;var updatedVisitCount=parseInt(clientcfmonitor.updatedVisitCount);var currentURL=clientcfmonitor.currentURL;var jq=null;var oneDay=24*60*60*1e3;var clickdate=new Date(firstclickdata[0][0],firstclickdate,firstclickdata[0][2],firstclickdata[1][0],firstclickdata[1][1],firstclickdata[1][2]);var currDate=new Date;var secondDate=clickdate.setTime(clickdate.getTime()+bannedperiod*24*60*60*1e3);var endDate=new Date(secondDate);var customclass=clientcfmonitor.customclass;var firstclick=clientcfmonitor.firstclick;var disablead=clientcfmonitor.disablead;jq=jQuery.noConflict();var wrapperclass="."+customclass;jq.cfmonitor={cfmonitor_options:{maxClicks:2,countDown:5,defaultElements:wrapperclass,dataMethod:"GET",checkDataUrl:false,clickDataUrl:false,additionalData:{},blockOnError:true,blockTitle:"Critical Error",thanksTitle:false,thanksMsg:false,thanksTimer:3},elements:[],iframes:[]};var cfmonitor_options=jq.extend(jq.cfmonitor.cfmonitor_options,cfmonitor_options);var isOverIFrame=false;var object=this;jq(document).ready(function(e){updateElements();countajaxclicks();findIframes();jq("."+customclass).click(function(e){ajax_post()})})